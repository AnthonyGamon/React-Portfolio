{"ast":null,"code":"import { useCallback, useMemo, useState } from 'react';\nexport function useArray(initial) {\n  const [value, setValue] = useState(initial);\n  const push = useCallback(a => {\n    setValue(v => [...v, ...(Array.isArray(a) ? a : [a])]);\n  }, []);\n  const unshift = useCallback(a => setValue(v => [...(Array.isArray(a) ? a : [a]), ...v]), []);\n  const pop = useCallback(() => setValue(v => v.slice(0, -1)), []);\n  const shift = useCallback(() => setValue(v => v.slice(1)), []);\n  const move = useCallback((from, to) => setValue(it => {\n    const copy = it.slice();\n    copy.splice(to < 0 ? copy.length + to : to, 0, copy.splice(from, 1)[0]);\n    return copy;\n  }), []);\n  const clear = useCallback(() => setValue(() => []), []);\n  const removeById = useCallback( // @ts-ignore not every array that you will pass down will have object with id field.\n  id => setValue(arr => arr.filter(v => v && v.id !== id)), []);\n  const removeIndex = useCallback(index => setValue(v => {\n    const copy = v.slice();\n    copy.splice(index, 1);\n    return copy;\n  }), []);\n  const modifyById = useCallback((id, newValue) => // @ts-ignore not every array that you will pass down will have object with id field.\n  setValue(arr => arr.map(v => v.id === id ? Object.assign(Object.assign({}, v), newValue) : v)), []);\n  const actions = useMemo(() => ({\n    setValue,\n    add: push,\n    unshift,\n    push,\n    move,\n    clear,\n    removeById,\n    removeIndex,\n    pop,\n    shift,\n    modifyById\n  }), [modifyById, push, unshift, move, clear, removeById, removeIndex, pop, shift]);\n  return [value, actions];\n}\nexport default useArray;","map":{"version":3,"sources":["../../../src/array/useArray.ts"],"names":[],"mappings":"AAAA,SAAS,WAAT,EAAsB,OAAtB,EAA+B,QAA/B,QAA+C,OAA/C;AAqBA,OAAM,SAAU,QAAV,CAA4B,OAA5B,EAAwC;AAC5C,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,QAAQ,CAAC,OAAD,CAAlC;AACA,QAAM,IAAI,GAAG,WAAW,CAAE,CAAD,IAAM;AAC7B,IAAA,QAAQ,CAAE,CAAD,IAAO,CAAC,GAAG,CAAJ,EAAO,IAAI,KAAK,CAAC,OAAN,CAAc,CAAd,IAAmB,CAAnB,GAAuB,CAAC,CAAD,CAA3B,CAAP,CAAR,CAAR;AACD,GAFuB,EAErB,EAFqB,CAAxB;AAGA,QAAM,OAAO,GAAG,WAAW,CAAE,CAAD,IAAO,QAAQ,CAAE,CAAD,IAAO,CAAC,IAAI,KAAK,CAAC,OAAN,CAAc,CAAd,IAAmB,CAAnB,GAAuB,CAAC,CAAD,CAA3B,CAAD,EAAkC,GAAG,CAArC,CAAR,CAAhB,EAAkE,EAAlE,CAA3B;AACA,QAAM,GAAG,GAAG,WAAW,CAAC,MAAM,QAAQ,CAAE,CAAD,IAAO,CAAC,CAAC,KAAF,CAAQ,CAAR,EAAW,CAAC,CAAZ,CAAR,CAAf,EAAwC,EAAxC,CAAvB;AACA,QAAM,KAAK,GAAG,WAAW,CAAC,MAAM,QAAQ,CAAE,CAAD,IAAO,CAAC,CAAC,KAAF,CAAQ,CAAR,CAAR,CAAf,EAAoC,EAApC,CAAzB;AACA,QAAM,IAAI,GAAG,WAAW,CACtB,CAAC,IAAD,EAAe,EAAf,KACE,QAAQ,CAAE,EAAD,IAAO;AACd,UAAM,IAAI,GAAG,EAAE,CAAC,KAAH,EAAb;AACA,IAAA,IAAI,CAAC,MAAL,CAAY,EAAE,GAAG,CAAL,GAAS,IAAI,CAAC,MAAL,GAAc,EAAvB,GAA4B,EAAxC,EAA4C,CAA5C,EAA+C,IAAI,CAAC,MAAL,CAAY,IAAZ,EAAkB,CAAlB,EAAqB,CAArB,CAA/C;AACA,WAAO,IAAP;AACD,GAJO,CAFY,EAOtB,EAPsB,CAAxB;AASA,QAAM,KAAK,GAAG,WAAW,CAAC,MAAM,QAAQ,CAAC,MAAM,EAAP,CAAf,EAA2B,EAA3B,CAAzB;AACA,QAAM,UAAU,GAAG,WAAW,EAC5B;AACC,EAAA,EAAD,IAAQ,QAAQ,CAAE,GAAD,IAAS,GAAG,CAAC,MAAJ,CAAY,CAAD,IAAO,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,EAAhC,CAAV,CAFY,EAG5B,EAH4B,CAA9B;AAKA,QAAM,WAAW,GAAG,WAAW,CAC5B,KAAD,IACE,QAAQ,CAAE,CAAD,IAAM;AACb,UAAM,IAAI,GAAG,CAAC,CAAC,KAAF,EAAb;AACA,IAAA,IAAI,CAAC,MAAL,CAAY,KAAZ,EAAmB,CAAnB;AACA,WAAO,IAAP;AACD,GAJO,CAFmB,EAO7B,EAP6B,CAA/B;AASA,QAAM,UAAU,GAAG,WAAW,CAC5B,CAAC,EAAD,EAAK,QAAL,KACE;AACA,EAAA,QAAQ,CAAE,GAAD,IAAS,GAAG,CAAC,GAAJ,CAAS,CAAD,IAAQ,CAAC,CAAC,EAAF,KAAS,EAAT,GAAa,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAM,CAAN,CAAA,EAAY,QAAZ,CAAb,GAAsC,CAAtD,CAAV,CAHkB,EAI5B,EAJ4B,CAA9B;AAMA,QAAM,OAAO,GAAG,OAAO,CACrB,OAAO;AACL,IAAA,QADK;AAEL,IAAA,GAAG,EAAE,IAFA;AAGL,IAAA,OAHK;AAIL,IAAA,IAJK;AAKL,IAAA,IALK;AAML,IAAA,KANK;AAOL,IAAA,UAPK;AAQL,IAAA,WARK;AASL,IAAA,GATK;AAUL,IAAA,KAVK;AAWL,IAAA;AAXK,GAAP,CADqB,EAcrB,CAAC,UAAD,EAAa,IAAb,EAAmB,OAAnB,EAA4B,IAA5B,EAAkC,KAAlC,EAAyC,UAAzC,EAAqD,WAArD,EAAkE,GAAlE,EAAuE,KAAvE,CAdqB,CAAvB;AAgBA,SAAO,CAAC,KAAD,EAAQ,OAAR,CAAP;AACD;AAED,eAAe,QAAf","sourceRoot":"","sourcesContent":["import { useCallback, useMemo, useState } from 'react';\nexport function useArray(initial) {\n    const [value, setValue] = useState(initial);\n    const push = useCallback((a) => {\n        setValue((v) => [...v, ...(Array.isArray(a) ? a : [a])]);\n    }, []);\n    const unshift = useCallback((a) => setValue((v) => [...(Array.isArray(a) ? a : [a]), ...v]), []);\n    const pop = useCallback(() => setValue((v) => v.slice(0, -1)), []);\n    const shift = useCallback(() => setValue((v) => v.slice(1)), []);\n    const move = useCallback((from, to) => setValue((it) => {\n        const copy = it.slice();\n        copy.splice(to < 0 ? copy.length + to : to, 0, copy.splice(from, 1)[0]);\n        return copy;\n    }), []);\n    const clear = useCallback(() => setValue(() => []), []);\n    const removeById = useCallback(\n    // @ts-ignore not every array that you will pass down will have object with id field.\n    (id) => setValue((arr) => arr.filter((v) => v && v.id !== id)), []);\n    const removeIndex = useCallback((index) => setValue((v) => {\n        const copy = v.slice();\n        copy.splice(index, 1);\n        return copy;\n    }), []);\n    const modifyById = useCallback((id, newValue) => \n    // @ts-ignore not every array that you will pass down will have object with id field.\n    setValue((arr) => arr.map((v) => (v.id === id ? Object.assign(Object.assign({}, v), newValue) : v))), []);\n    const actions = useMemo(() => ({\n        setValue,\n        add: push,\n        unshift,\n        push,\n        move,\n        clear,\n        removeById,\n        removeIndex,\n        pop,\n        shift,\n        modifyById,\n    }), [modifyById, push, unshift, move, clear, removeById, removeIndex, pop, shift]);\n    return [value, actions];\n}\nexport default useArray;\n//# sourceMappingURL=useArray.js.map"]},"metadata":{},"sourceType":"module"}